# 列表\(list\)

以有序的方式存储多个可重复的值.

一个列表可以包含一个或以上数量的项\(item\),每个项按照它们被推入到列表的位置来排列.

每个列表项所处的位置决定了这个项的索引值\(index\),索引以0开始,从列表的左端到右端依次递增,位于列表最左端\(表头\)的项的索引为0,而位于列表最右端\(表尾\)的项的索引为N-1,其中N为列表的长度.

列表包含的项可以出现重复,它们不必是唯一的.

![](/Snip20160712_6.png)

### 推入和弹出操作

了解如何向列表添加项,以及如何从列表里面删除项.

#### 从列表的左端推入值

```
LPUSH key value [value ...]
```

* 将一个或以上数量的值依次推入到列表的左端,命令返回新值被推入之后,列表目前包含的项数量

* 复杂度O\(N\),N为被推入值的数量,如果只推入一个值,就是O\(1\)

```
LPUSH lst "lua"
LPUSH lst "Python"
LPUSH lst "C"
```

#### 从列表的左端推入多个值

如果执行 LPUSH 命令时给定了多个值,那么各个值将按照给定时的顺序,从左到右依次地被推入到列表的左端.

```
LPUSH lst "lua" "Python" "C"
```

注:值被推入的顺序和参数给定的顺序正好相反

#### 从列表的右端推入值

```
RPUSH key value [value ...]
```

* 将一个或以上数量的值依次推入到列表的右端,命令返回新值被推入之后,列表目前包含的项数量.

* 复杂度为O\(N\),N为被推入值的数量

```
RPUSH lst "JS"
RPUSH lst "Ruby"
Rpush lst "C"
```

#### 从列表的右端推入多个值

如果执行 RPUSH 命令时给定了多个值,那么各个值将按照给定时的顺序,从左到右依次被推入到列表的右端.

```
RPUSH lst "JS" "Ruby" "C"
```

注:值被推入的顺序和参数给定的顺序正好相反

#### 从列表的两端弹出项

```
LPOP key - 移除并返回列表最左端的项 - 复杂度O(1)
RPOP key - 移除并返回列表最右端的项 - 复杂度O(1)
```

![](/Snip20160712_7.png)

```
RPUSH lst "Clojure" "Ruby" "C" "Python" "Lua"
LPOP lst
"Clojure"
LPOP lst
"Ruby"
RPOP lst
"Lua"
RPOP lst
"Python"
```

---

### 长度,索引和范围操作

#### 获取列表的长度

```
LLEN key
```

* 返回列表键key的长度,就是返回列表包含的列表项数量

* 因为Redis会记录每个列表的长度,所以这个命令无需遍历列表

* 复杂度为O\(1\)

```
LLEN lst
LPOP lst
LLEN lst
```

#### 返回给定索引上的项

```
LINDEX key index
```

* 返回列表键key中,指定索引index上的列表项

* index索引可以是整数或者负数

* 复杂度为O\(N\),N为列表的长度

```
LINDEX lst 1
LINDEX lst 4
LINDEX lst -3
```

#### 返回给定索引范围之内的所有项

```
LRANGE key start stop
```

* 返回列表键key中,从索引start至索引stop范围内的所有列表项.

* 两个索引参数都可以是正数或者负数

* 复杂度为O\(N\),N为被返回的列表项数量

```
LRANGE lst 0 2
LRANGE lst -3 -1
```

#### 示例:使用列表实现用户时间线

Twitter使用Redis的列表来存储用户时间线,列表中的每个项都包含

