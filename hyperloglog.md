# HyperLogLog

使用常量空间计算大量元素的基数.

**应用场景:记录网站每天获得的独立IP数量**

**使用集合实现**

使用集合来存储每个访客的IP,通过集合中每个元素都各不相同的特性,来得到多个独立IP,然后通过调用SCARD命令来得出独立IP的数量.

```
ip = get_vistor_ip()
SADD '2016.7.30::unique::ip' ip
```

然后使用SCARD就可以获取当前的唯一IP数量:

SCARD 'keyname'

使用集合实现独立IP记录会带来一个问题,字符串记录一个IPv4最多需要消耗15个字节,IPv6会更多一些,这样持续下去,下号的内存会越来越多,下面是一个内存消耗表:

![](/assets/Snip20160728_1.png)

为了更好的解决类似独立IP





